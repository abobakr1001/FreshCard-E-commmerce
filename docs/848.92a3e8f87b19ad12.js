"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[848],{4768:(_,p,o)=>{o.d(p,{e:()=>c});var l=o(6726),r=o(5619);const t_baseUrlAuth="https://ecommerce.routemisr.com/api/v1/auth";var d=o(9468),m=o(9862),g=o(2956);let c=(()=>{class u{constructor(s,a){this._HttpClient=s,this._Router=a,this.userData=new r.X(null),this.saveUser()}saveUser(){const s=localStorage.getItem("_token");if(s)try{const a=(0,l.Z)(s);a.name&&this.userData.next(a)}catch(a){a.message.includes("Invalid token")&&(localStorage.removeItem("_token"),this._Router.navigate(["/login"]))}}setRegister(s){return this._HttpClient.post(t_baseUrlAuth+"/signup",s)}setLogin(s){return this._HttpClient.post(t_baseUrlAuth+"/signin",s)}setForgotPassword(s){return this._HttpClient.post(t_baseUrlAuth+"/forgotPasswords",s)}setVerifyResetCode(s){return this._HttpClient.post(t_baseUrlAuth+"/verifyResetCode",s)}resetPassword(s){return this._HttpClient.put(t_baseUrlAuth+"/resetPassword",s)}setChangePassword(s){return this._HttpClient.put("https://ecommerce.routemisr.com/api/v1/users/changeMyPassword",s)}static#t=this.\u0275fac=function(a){return new(a||u)(d.LFG(m.eN),d.LFG(g.F0))};static#e=this.\u0275prov=d.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},1731:(_,p,o)=>{o.d(p,{J:()=>g});var l=o(5619);const r_baseUrlData="https://ecommerce.routemisr.com/api/v1";var t=o(9468),d=o(9862),m=o(2425);let g=(()=>{class c{constructor(e,s){this._HttpClient=e,this._ToastrService=s,this.cartNumber=new l.X(0),this.whishNumber=new l.X(0),this.whishList=new l.X([])}getUserOrders(e){return this._HttpClient.get(r_baseUrlData+"/orders/user/"+e)}addToCart(e){this.sendToCart(e).subscribe({next:s=>{"success"===s.status&&(this._ToastrService.success(s.message),this.cartNumber.next(s.numOfCartItems))}})}SetcheckOut(e,s){return this._HttpClient.post(r_baseUrlData+`/orders/checkout-session/${e}?url=https://ahmed-menisy.github.io/FreshCart`,s)}getProducts(e=1){return this._HttpClient.get(r_baseUrlData+`/products?page=${e}`)}getProductById(e){return this._HttpClient.get(r_baseUrlData+"/products/"+e)}getCategories(){return this._HttpClient.get(r_baseUrlData+"/categories")}getCategoriesById(e){return this._HttpClient.get(r_baseUrlData+"/categories/"+e)}getSubCategoriesToCat(e){return this._HttpClient.get(r_baseUrlData+`/categories/${e}/subcategories`)}sendToCart(e){return this._HttpClient.post(r_baseUrlData+"/cart",{productId:e})}getCartData(){return this._HttpClient.get(r_baseUrlData+"/cart")}clearCart(){return this._HttpClient.delete(r_baseUrlData+"/cart")}updatePoductCount(e,s){return this._HttpClient.put(r_baseUrlData+"/cart/"+e,{count:s})}deletePoductCart(e){return this._HttpClient.delete(r_baseUrlData+"/cart/"+e)}getBrands(e=1){return this._HttpClient.get(r_baseUrlData+`/brands?page=${e}`)}getBrandData(e){return this._HttpClient.get(r_baseUrlData+`/brands/${e}`)}setWishlist(e){return this._HttpClient.post(r_baseUrlData+"/wishlist",{productId:e})}removeWishlist(e){return this._HttpClient.delete(r_baseUrlData+`/wishlist/${e}`)}getWishlist(){return this._HttpClient.get(r_baseUrlData+"/wishlist")}setAddresses(e){return this._HttpClient.post(r_baseUrlData+"/addresses",e)}getAddresses(){return this._HttpClient.get(r_baseUrlData+"/addresses")}removeAddresses(e){return this._HttpClient.delete(r_baseUrlData+`/addresses/${e}`)}static#t=this.\u0275fac=function(s){return new(s||c)(t.LFG(d.eN),t.LFG(m._W))};static#e=this.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},848:(_,p,o)=>{o.r(p),o.d(p,{AllordersComponent:()=>s});var l=o(6814),r=o(1651),t=o(9468),d=o(4768),m=o(1731);function g(a,h){if(1&a&&(t.TgZ(0,"div",16)(1,"div",17),t._UZ(2,"img",18),t.TgZ(3,"div",19)(4,"h3",20),t._uU(5),t.ALo(6,"cuttext"),t.qZA(),t.TgZ(7,"span",21),t._uU(8),t.qZA(),t.TgZ(9,"span",21),t._uU(10),t.qZA()()(),t._UZ(11,"hr",22),t.qZA()),2&a){const i=h.$implicit;t.xp6(2),t.Q6J("src",i.product.imageCover,t.LSH)("alt",i.product.title),t.xp6(3),t.hij(" ",t.xi3(6,5,i.product.title,3)," "),t.xp6(3),t.hij(" Count:",i.count," "),t.xp6(2),t.hij(" Price:",i.price," ")}}function c(a,h){if(1&a&&(t.TgZ(0,"div",5)(1,"h3",6),t._uU(2),t.qZA(),t.TgZ(3,"div",7),t.YNc(4,g,12,8,"div",8),t.qZA(),t.TgZ(5,"div",9)(6,"div",10)(7,"p",11)(8,"span"),t._uU(9," Is Delivered: "),t.qZA(),t.TgZ(10,"span",12),t._uU(11),t.qZA()(),t.TgZ(12,"p",11)(13,"span"),t._uU(14," Is Paid: "),t.qZA(),t.TgZ(15,"span",12),t._uU(16),t.qZA()(),t.TgZ(17,"span",13),t._uU(18),t.qZA(),t.TgZ(19,"span",13),t._uU(20),t.qZA()()(),t.TgZ(21,"div",14),t._UZ(22,"hr",15),t.qZA()()),2&a){const i=h.$implicit,n=h.index;t.xp6(2),t.hij("Order: ",n+1,""),t.xp6(2),t.Q6J("ngForOf",i.cartItems),t.xp6(6),t.Tol(i.isDelivered?"bg-success":"bg-danger"),t.xp6(1),t.Oqu(i.isDelivered?"Yes":"No"),t.xp6(4),t.Tol(i.isPaid?"bg-success":"bg-danger"),t.xp6(1),t.Oqu(i.isPaid?"Yes":"No"),t.xp6(2),t.hij(" Payment Method Type: ",i.paymentMethodType," "),t.xp6(2),t.hij(" totalOrderPrice: ",i.totalOrderPrice," ")}}function u(a,h){if(1&a&&(t.TgZ(0,"section",2)(1,"h1",3),t._uU(2,"All Orders"),t.qZA(),t.YNc(3,c,23,10,"div",4),t.qZA()),2&a){const i=t.oxw();t.xp6(3),t.Q6J("ngForOf",i.ordersData)}}function e(a,h){1&a&&(t.TgZ(0,"h1",23),t._uU(1,"Your Orders Is Empty..."),t.qZA())}let s=(()=>{class a{constructor(i,n){this._AuthService=i,this._EcomdataService=n,this.ordersData=[],this.userId=""}ngOnInit(){this._AuthService.userData.subscribe({next:i=>{null!==i&&(this.userId=i.id,this._EcomdataService.getUserOrders(this.userId).subscribe({next:n=>{this.ordersData=n}}))}})}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(d.e),t.Y36(m.J))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-allorders"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["class","rounded shadow bg-main-light w-75 mx-auto p-3 allorders",4,"ngIf","ngIfElse"],["oreder",""],[1,"rounded","shadow","bg-main-light","w-75","mx-auto","p-3","allorders"],[1,"text-center","h4"],["class","row align-items-center border rounded m-2 p-2",4,"ngFor","ngForOf"],[1,"row","align-items-center","border","rounded","m-2","p-2"],[1,"h6"],[1,"col-md-8"],["class","ps-5 mb-1",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"border","border-dark","rounded","p-1"],[1,"mb-0"],[1,"badge"],[1,"d-block"],[1,"col-12"],[1,"my-3","mx-5"],[1,"ps-5","mb-1"],[1,"product-item","d-flex","align-items-center","gap-3"],["width","70",3,"src","alt"],[1,"product-info"],[1,"h6","small","text-main"],[1,"text-muted","d-block"],[1,"border-warning","mx-5"],[1,"text-center","my-3","display-3"]],template:function(n,v){if(1&n&&(t.YNc(0,u,4,1,"section",0),t.YNc(1,e,2,0,"ng-template",null,1,t.W1O)),2&n){const U=t.MAs(2);t.Q6J("ngIf",v.ordersData.length)("ngIfElse",U)}},dependencies:[l.ez,l.sg,l.O5,r.r],styles:[".allorders[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto}"]})}return a})()}}]);